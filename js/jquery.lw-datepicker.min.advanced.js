var g=!0,h=null,j=!1;
(function(){function f(b,a){return function(){return b.apply(a,arguments)}}var d,n,p,o,q;d=jQuery;q={startDate:h,endDate:h,dowNames:"sun,mon,tue,wed,thu,fri,sat".split(","),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),firstDayOfTheWeekIndex:0,autoFillToday:j,alwaysVisible:j,autoHideAfterClick:j,parseDate:h,formatDate:h,onChange:h};n="lw-datepicker";o=function(b,a){return b.getFullYear()!==a.getFullYear()||b.getMonth()!==a.getMonth()?
j:b.getDate()===a.getDate()};p=function(){function b(a,e){this.r=f(this.r,this);this.show=f(this.show,this);this.hide=f(this.hide,this);this.m=f(this.m,this);this.l=f(this.l,this);this.g=f(this.g,this);this.input=a;this.input.bind("focus",this.show);this.input.bind("blur",this.hide);this.input.bind("keydown",this.r);this.input.bind("change",this.k);this.B=d.browser.msie&&8>=parseInt(d.browser.version);this.input.data(n,g);this.a={f:e.startDate,e:e.endDate,A:e.dowNames,I:e.monthNames,q:e.firstDayOfTheWeekIndex,
L:e.autoFillToday,u:e.alwaysVisible,F:e.autoHideAfterClick,s:e.parseDate,j:e.formatDate,k:e.onChange};this.c=new Date;this.K=new Date;this.d=new Date;this.G();this.b.appendTo(document.body);this.margin=parseInt(this.b.css("margin-top"),10);this.b.css("margin",0);this.v();this.a.u&&this.D();this.t();this.g();this.hide()}b.prototype.input=h;b.prototype.c=h;b.prototype.p=g;b.prototype.o=g;b.prototype.n=g;b.prototype.G=function(){this.b=d("<div class=lw-dp/>");this.toolbar=d("<div class=lw-dp-toolbar/>").appendTo(this.b);
this.C=d("<div class=lw-dp-previous>\u25c4</div>").appendTo(this.toolbar);this.next=d("<div class=lw-dp-next>\u25ba</div>").appendTo(this.toolbar);this.H=d("<div class=lw-dp-month/>").appendTo(this.toolbar);this.J().appendTo(this.b);this.i=d("<div/>").appendTo(this.b)};b.prototype.v=function(){var a;this.b.bind("mousedown",f(function(a){a.preventDefault();a.stopPropagation();if(this.B)return this.n=j},this));a=this.B?"mousedown":"click";this.b.delegate(".lw-dp-next",a,this.l);this.b.delegate(".lw-dp-previous",
a,this.m);d(this.i).delegate("li:not(.lw-dp-active-day)",a,f(function(a){return this.h(d(a.currentTarget))},this))};b.prototype.t=function(){return this.input.val(this.j(this.c))};b.prototype.g=function(a){var e,c,b,r,k,i,l;a==h&&(a=0);this.d.setMonth(this.d.getMonth()+a);this.H.html(this.a.I[this.d.getMonth()]+", "+this.d.getFullYear());e=this.d;a=new Date(e.getFullYear(),e.getMonth(),0);this.a.f!=h&&a.getTime()<this.a.f.getTime()?(this.p=j,d(this.C).hide()):(this.p=g,d(this.C).show());a=new Date(e.getFullYear(),
e.getMonth()+1,1);this.a.e!=h&&a.getTime()>this.a.e.getTime()?(this.o=j,d(this.next).hide()):(this.o=g,d(this.next).show());a=(new Date(e.getFullYear(),e.getMonth(),1)).getDay();r=(this.a.q+6)%7;c=(7-a+this.a.q)%7;0===c&&(c=7);a=new Date(e.getFullYear(),e.getMonth(),c-6);l=Math.ceil(((new Date(e.getFullYear(),e.getMonth()+1,0)).getDate()+7-c)/7);k=f(function(a){var b,c,d;c=[];b="";d=a.getDate();a.getMonth()!==e.getMonth()&&c.push("lw-dp-neighbour-month-day");(0===a.getDay()||6===a.getDay())&&c.push("lw-dp-weekend");
a.getDay()===r&&c.push("lw-dp-week-last-column");o(a,this.K)&&(c.push("lw-dp-today"),d="<span>"+d+"</span>");this.c!=h&&o(a,this.c)&&c.push("lw-dp-active-day");this.a.f&&a.getTime()<=this.a.f.getTime()&&(c.push("lw-dp-out-of-interval"),d="");this.a.e&&a.getTime()>=this.a.e.getTime()&&(c.push("lw-dp-out-of-interval"),d="");c.length&&(b=" class='"+c.join(" ")+"'");a.setDate(a.getDate()+1);return"<li"+b+">"+d+"</li>"},this);b="";for(i=1;1<=l?i<=l:i>=l;1<=l?i++:i--){b=1===i?b+"<ul class='lw-dp-week lw-dp-firstweek'>":
i===l?b+"<ul class='lw-dp-week lw-dp-lastweek'>":b+"<ul class=lw-dp-week>";for(c=1;7>=c;c++)b+=k(a);b+="</ul>"}return this.i.html(b)};b.prototype.h=function(a,e){var c,b,d,k,i;e==h&&(e=g);k=this.d.getFullYear();d=this.d.getMonth();c=parseInt(a.text());b=0;a.hasClass("lw-dp-neighbour-month-day")&&(b=10<c?-1:1);c=new Date(k,d+b,c);if(this.a.f==h||c.getTime()>=this.a.f.getTime())if(this.a.e==h||c.getTime()<=this.a.e.getTime())a.parent().parent().find("li").removeClass("lw-dp-active-day"),a.addClass("lw-dp-active-day"),
this.c=c,0!==b&&this.g(b);this.t();if(this.a.F&&e)(i=this.input)!=h&&i.blur();if("function"===typeof this.a.k)return this.a.k(this.c)};b.prototype.s=function(a){return"function"===typeof this.a.s?this.a.s(a):new Date(Date.parse(a))};b.prototype.j=function(a){return"function"===typeof this.a.j?this.a.j(a):a!=h?a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear():""};b.prototype.l=function(){return this.g(1)};b.prototype.m=function(){return this.g(-1)};b.prototype.J=function(){var a,b,c,m,f,k,i,l;b=this.a.A[this.a.q];
c=j;m="<ul class=lw-dp-dows>";f="";l=this.a.A;for(k=0,i=l.length;k<i;k++)a=l[k],a===b&&(c=g),a="<li>"+a+"</li>",c?m+=a:f+=a;return d(m+f+"</ul>")};b.prototype.D=function(){var a,b,c,f;a=this.input.offset();f=this.b.outerWidth();c=this.b.outerHeight();b=a.left;d("body").width()>b+f?this.b.css({left:b}):a.left>f+this.margin?this.b.css({left:a.left-f-this.margin}):this.b.css({left:b});b=a.top+this.input.outerHeight()+this.margin;d(document).height()>b+c?this.b.css({top:b}):a.top>c+this.margin?this.b.css({top:a.top-
c-this.margin}):this.b.css({top:b})};b.prototype.k=function(){this.g();return this.t()};b.prototype.hide=function(){var a;!this.a.u&&this.n&&this.b.remove();if(!this.n)(a=this.input)!=h&&a.focus();return this.n=g};b.prototype.show=function(){this.b.appendTo(document.body);this.v();this.D();return this.g()};b.prototype.z=function(){var a,b,c;this.c!=h&&(b=this.c.getDate()-1,a=new Date(this.c.getTime()),a.setMonth(this.d.getMonth()),a.setFullYear(this.d.getFullYear()),c=d(this.i).find("li:not(.lw-dp-neighbour-month-day)"),
c.length<=b?this.h(c.last(),j):this.a.e!=h&&a.getTime()>this.a.e.getTime()?this.h(c.eq(this.a.e.getDate()-2),j):this.a.f!=h&&a.getTime()<this.a.f.getTime()?this.h(c.eq(this.a.f.getDate()),j):this.h(c.eq(b),j))};b.prototype.w=function(a){var b,c,f;f="prev"===a?"last":"first";this.c!=h?(b=d(this.i).find("li.lw-dp-active-day"),c=b[a](),c.length||(c=b.parent()[a]().children()[f]())):c=d(this.i).find("li.lw-dp-today");this.h(c,j)};b.prototype.r=function(a){var b;b=a.keyCode;a=g;switch(b){case 27:this.input.blur();
break;case 33:this.p&&(this.m(),this.z());break;case 34:this.o&&(this.l(),this.z());break;case 38:this.w("prev");break;case 40:this.w("next");break;default:a=j}return!a};return b}();d.fn.lwDatepicker=function(b){b=d.extend(q,b);return this.each(function(){var a;a=d(this);if(a.is("input, textarea")&&!a.data(n))return new p(a,b)})}}).call(this);
